<template>
  <nav>
    <v-style>
      .smooth-enter-to, .smooth-leave { height: {{ computedHeight }}; }
    </v-style>
    <div
      class="lg:block sm:hidden md:hidden hidden desktop drop-shadow-md fixed w-full z-50"
    >
      <div class="container__ py-5 bg-blur">
        <div class="navbar flex items-center justify-between">
          <div class="navbar__brand flex items-center">
            <nuxt-link to="/" class="mr-5">
              <svg
                width="98"
                height="30"
                viewBox="0 0 98 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M19.3008 4.20126V9.0409H12.7302V29H6.6895V9.0409H0.118893V4.20126H19.3008ZM25.3705 7.23928C24.3107 7.23928 23.4394 6.93312 22.7564 6.32081C22.097 5.68494 21.7673 4.90778 21.7673 3.98931C21.7673 3.04728 22.097 2.27011 22.7564 1.6578C23.4394 1.02193 24.3107 0.704 25.3705 0.704C26.4067 0.704 27.2546 1.02193 27.914 1.6578C28.5969 2.27011 28.9384 3.04728 28.9384 3.98931C28.9384 4.90778 28.5969 5.68494 27.914 6.32081C27.2546 6.93312 26.4067 7.23928 25.3705 7.23928ZM28.3732 9.28818V29H22.3325V9.28818H28.3732ZM44.7616 9.07623C47.0696 9.07623 48.9065 9.82984 50.2725 11.3371C51.662 12.8208 52.3567 14.8697 52.3567 17.4838V29H46.3513V18.2963C46.3513 16.9774 46.0098 15.953 45.3269 15.2229C44.6439 14.4929 43.7254 14.1278 42.5714 14.1278C41.4175 14.1278 40.499 14.4929 39.816 15.2229C39.1331 15.953 38.7916 16.9774 38.7916 18.2963V29H32.7509V9.28818H38.7916V11.9023C39.4039 11.0309 40.2282 10.348 41.2644 9.85339C42.3006 9.33528 43.4664 9.07623 44.7616 9.07623ZM55.3533 19.1441C55.3533 17.0952 55.7655 15.3053 56.5897 13.7746C57.4376 12.2438 58.6033 11.0662 60.087 10.242C61.5942 9.41771 63.3134 9.00557 65.2446 9.00557C67.7174 9.00557 69.778 9.65321 71.4266 10.9485C73.0987 12.2438 74.1938 14.0689 74.7119 16.424H68.2826C67.7409 14.9168 66.6929 14.1631 65.1386 14.1631C64.0317 14.1631 63.1486 14.5988 62.4891 15.4702C61.8297 16.318 61.5 17.5427 61.5 19.1441C61.5 20.7455 61.8297 21.9819 62.4891 22.8533C63.1486 23.7011 64.0317 24.125 65.1386 24.125C66.6929 24.125 67.7409 23.3714 68.2826 21.8642H74.7119C74.1938 24.1721 73.0987 25.9855 71.4266 27.3044C69.7545 28.6232 67.6938 29.2826 65.2446 29.2826C63.3134 29.2826 61.5942 28.8705 60.087 28.0462C58.6033 27.2219 57.4376 26.0444 56.5897 24.5136C55.7655 22.9828 55.3533 21.193 55.3533 19.1441ZM76.742 19.1088C76.742 17.0834 77.1188 15.3053 77.8724 13.7746C78.6496 12.2438 79.6976 11.0662 81.0164 10.242C82.3353 9.41771 83.8072 9.00557 85.4322 9.00557C86.8217 9.00557 88.0345 9.28818 89.0707 9.85339C90.1305 10.4186 90.943 11.1605 91.5082 12.0789V9.28818H97.5489V29H91.5082V26.2093C90.9195 27.1277 90.0952 27.8696 89.0354 28.4348C87.9992 29 86.7863 29.2826 85.3969 29.2826C83.7954 29.2826 82.3353 28.8705 81.0164 28.0462C79.6976 27.1984 78.6496 26.0091 77.8724 24.4783C77.1188 22.924 76.742 21.1341 76.742 19.1088ZM91.5082 19.1441C91.5082 17.6369 91.0843 16.4476 90.2365 15.5762C89.4122 14.7048 88.3996 14.2691 87.1985 14.2691C85.9974 14.2691 84.9729 14.7048 84.1251 15.5762C83.3009 16.424 82.8887 17.6015 82.8887 19.1088C82.8887 20.616 83.3009 21.8171 84.1251 22.712C84.9729 23.5834 85.9974 24.0191 87.1985 24.0191C88.3996 24.0191 89.4122 23.5834 90.2365 22.712C91.0843 21.8406 91.5082 20.6513 91.5082 19.1441Z"
                  fill="#3C6FF2"
                />
              </svg>
            </nuxt-link>
          </div>
          <div class="navbar__menu">
            <MenuComponentChild/>
          </div>
        </div>
      </div>
    </div>
    <div class="lg:hidden mobile w-full drop-shadow-md z-50">
      <div class="px-5 py-5 bg-white">
        <div class="navbar-brand flex justify-between">
          <nuxt-link to="/">
            <svg
              width="98"
              height="30"
              viewBox="0 0 98 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M19.3008 4.20126V9.0409H12.7302V29H6.6895V9.0409H0.118893V4.20126H19.3008ZM25.3705 7.23928C24.3107 7.23928 23.4394 6.93312 22.7564 6.32081C22.097 5.68494 21.7673 4.90778 21.7673 3.98931C21.7673 3.04728 22.097 2.27011 22.7564 1.6578C23.4394 1.02193 24.3107 0.704 25.3705 0.704C26.4067 0.704 27.2546 1.02193 27.914 1.6578C28.5969 2.27011 28.9384 3.04728 28.9384 3.98931C28.9384 4.90778 28.5969 5.68494 27.914 6.32081C27.2546 6.93312 26.4067 7.23928 25.3705 7.23928ZM28.3732 9.28818V29H22.3325V9.28818H28.3732ZM44.7616 9.07623C47.0696 9.07623 48.9065 9.82984 50.2725 11.3371C51.662 12.8208 52.3567 14.8697 52.3567 17.4838V29H46.3513V18.2963C46.3513 16.9774 46.0098 15.953 45.3269 15.2229C44.6439 14.4929 43.7254 14.1278 42.5714 14.1278C41.4175 14.1278 40.499 14.4929 39.816 15.2229C39.1331 15.953 38.7916 16.9774 38.7916 18.2963V29H32.7509V9.28818H38.7916V11.9023C39.4039 11.0309 40.2282 10.348 41.2644 9.85339C42.3006 9.33528 43.4664 9.07623 44.7616 9.07623ZM55.3533 19.1441C55.3533 17.0952 55.7655 15.3053 56.5897 13.7746C57.4376 12.2438 58.6033 11.0662 60.087 10.242C61.5942 9.41771 63.3134 9.00557 65.2446 9.00557C67.7174 9.00557 69.778 9.65321 71.4266 10.9485C73.0987 12.2438 74.1938 14.0689 74.7119 16.424H68.2826C67.7409 14.9168 66.6929 14.1631 65.1386 14.1631C64.0317 14.1631 63.1486 14.5988 62.4891 15.4702C61.8297 16.318 61.5 17.5427 61.5 19.1441C61.5 20.7455 61.8297 21.9819 62.4891 22.8533C63.1486 23.7011 64.0317 24.125 65.1386 24.125C66.6929 24.125 67.7409 23.3714 68.2826 21.8642H74.7119C74.1938 24.1721 73.0987 25.9855 71.4266 27.3044C69.7545 28.6232 67.6938 29.2826 65.2446 29.2826C63.3134 29.2826 61.5942 28.8705 60.087 28.0462C58.6033 27.2219 57.4376 26.0444 56.5897 24.5136C55.7655 22.9828 55.3533 21.193 55.3533 19.1441ZM76.742 19.1088C76.742 17.0834 77.1188 15.3053 77.8724 13.7746C78.6496 12.2438 79.6976 11.0662 81.0164 10.242C82.3353 9.41771 83.8072 9.00557 85.4322 9.00557C86.8217 9.00557 88.0345 9.28818 89.0707 9.85339C90.1305 10.4186 90.943 11.1605 91.5082 12.0789V9.28818H97.5489V29H91.5082V26.2093C90.9195 27.1277 90.0952 27.8696 89.0354 28.4348C87.9992 29 86.7863 29.2826 85.3969 29.2826C83.7954 29.2826 82.3353 28.8705 81.0164 28.0462C79.6976 27.1984 78.6496 26.0091 77.8724 24.4783C77.1188 22.924 76.742 21.1341 76.742 19.1088ZM91.5082 19.1441C91.5082 17.6369 91.0843 16.4476 90.2365 15.5762C89.4122 14.7048 88.3996 14.2691 87.1985 14.2691C85.9974 14.2691 84.9729 14.7048 84.1251 15.5762C83.3009 16.424 82.8887 17.6015 82.8887 19.1088C82.8887 20.616 83.3009 21.8171 84.1251 22.712C84.9729 23.5834 85.9974 24.0191 87.1985 24.0191C88.3996 24.0191 89.4122 23.5834 90.2365 22.712C91.0843 21.8406 91.5082 20.6513 91.5082 19.1441Z"
                fill="#3C6FF2"
              />
            </svg>
          </nuxt-link>
          <button @click="toggle">
            <template v-if="opened">
              <svg
                class="w-8 h-8"
                fill="currentColor"
                style="color: #0084c1"
                viewBox="0 0 20 20"
              >
                <path
                  d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                ></path>
              </svg>
            </template>
            <template v-else>
              <svg
                class="w-8 h-8"
                fill="currentColor"
                style="color: #0084c1"
                viewBox="0 0 20 20"
              >
                <path
                  d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z"
                ></path>
              </svg>
            </template>
          </button>
        </div>
      </div>
      <div v-show="opened" class="bg-white">
        <MenuComponentChild :class="{ 'flex-col': true }" @change-state="toggle"/>
      </div>
    </div>
  </nav>
</template>

<script>
import Vue from 'vue'

Vue.component('VStyle', {
  render(createElement) {
    return createElement('style', this.$slots.default)
  },
})

export default {
  name: 'NavbarComponent',
  data: () => ({
    computedHeight: '130px',
    opened: false,
  }),
  mounted() {
  },
  methods: {
    toggle() {
      this.opened = !this.opened
    },
  },
}
</script>

<style scoped>
.smooth-enter-active,
.smooth-leave-active {
  transition: height 0.2s;
}

.smooth-enter,
.smooth-leave-to {
  height: 0;
}
</style>
